<div ng-controller="EditSurveyCardController">

	<div class="item item-divider item-calm">
		<i class="icon ion-stats-bars"></i> Survey Card
	</div>

	<label class="item item-input"> <span class="input-label">Name</span>
		<input type="text" ng-model="card.name">
	</label>
	<label class="item item-input"> <span class="input-label">Description</span>
		<input type="text" ng-model="card.description">
	</label>

	<ion-item class="item item-button-right">
		<b>Proposals</b>
		&nbsp;
		<div class="buttons">
			<button class="button button-small button-calm" ng-click="openModal()">
				Add
			</button>
			<button class="button button-small button-calm" ng-click="data.showReorder = !data.showReorder">
				Reorder
			</button>
		</div>
	</ion-item>

	<ion-list show-delete="false" show-reorder="data.showReorder" show-delete="data.showDelete">
		<ion-item ng-repeat="proposal in card.proposals">
			<h2>{{proposal.name}}</h2>
			<p>{{proposal.description}}</p>

			<ion-reorder-button class="ion-navicon"
								on-reorder="reorderProposal(proposal, $fromIndex, $toIndex)">
			</ion-reorder-button>

			<ion-option-button class="button-assertive"
							   ng-click="deleteProposal($index)">
				Delete
			</ion-option-button>

		</ion-item>
	</ion-list>

</div>

<script id="templates/edit-proposal.html" type="text/ng-template">
	<ion-modal-view>
		<ion-header-bar class="bar bar-header bar-positive">
			<h1 class="title">New Proposal</h1>
			<button class="button button-clear button-primary" ng-click="modal.hide()">Cancel</button>
		</ion-header-bar>
		<ion-content class="padding">

			<div class="list">
				<label class="item item-input">
					<span class="input-label">Name</span>
					<input ng-model="newProposal.name" type="text">
				</label>
				<label class="item item-input">
					<span class="input-label">Description</span>
					<input ng-model="newProposal.description" type="text">
				</label>

				<button class="button button-full button-positive" ng-click="addProposal(newProposal)">Create</button>

			</div>
		</ion-content>
	</ion-modal-view>
</script>







