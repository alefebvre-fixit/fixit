
<ion-view title="Participations" hide-back-button="false">

    <ion-content class="has-header" ion-sticky>
        <ion-refresher on-refresh="doRefresh()" spinner="spiral"></ion-refresher>

        <div class="item" style="text-align: center" ng-show="participations.length <= 0">
            <br>
            <br>
            <br>
            <br>
            There is no participation yet!
            <br>
            <br>
            <br>
            <br>
        </div>

        <ion-list class="list">
            <ion-item class="item-divider"> In </ion-item>
            <ion-item ng-repeat="participation in participations | filter: { status: 'IN'} track by participation.id" class="item item-avatar" ui-sref="user({username: participation.username})">
                    <img ng-src="img/users/{{participation.username}}.jpg" >
                    <div ng-switch="participation.status">
                        <h2 ng-switch-when="IN"> <i class="icon ion-record balanced"></i> {{participation.username}} is in - <span am-time-ago="participation.modificationDate"></span></h2>
                    </div>
                    <p ng-if="participation.comment"><i class="icon ion-chatbubble"> {{participation.comment}}</i></p>
            </ion-item>
            <ion-item class="item-divider"> Out </ion-item>
            <ion-item ng-repeat="participation in participations | filter: { status: 'OUT'} track by participation.id" class="item item-avatar" ui-sref="user({username: participation.username})">
                <img ng-src="img/users/{{participation.username}}.jpg" >

                <div ng-switch="participation.status">
                    <h2 ng-switch-when="OUT"> <i class="icon ion-record assertive"></i> {{participation.username}} is out - <span am-time-ago="participation.modificationDate"></span></h2>
                </div>
                <p ng-if="participation.comment"><i class="icon ion-chatbubble"> {{participation.comment}}</i></p>
            </ion-item>
            <ion-item class="item-divider"> Rsvp </ion-item>
            <ion-item ng-repeat="participation in participations | filter: { status: 'RSVP'} track by participation.id" class="item item-avatar" ui-sref="user({username: participation.username})">
                <img ng-src="img/users/{{participation.username}}.jpg" >

                <div ng-switch="participation.status">
                    <h2 ng-switch-default> <i class="icon ion-record"></i> {{participation.username}} still has to rsvp - <span am-time-ago="participation.modificationDate"></span></h2>
                </div>
                <p ng-if="participation.comment"><i class="icon ion-chatbubble"> {{participation.comment}}</i></p>

            </ion-item>

        </ion-list>


    </ion-content>


</ion-view>
